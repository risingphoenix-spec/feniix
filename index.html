<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <link rel="manifest" href="/manifest.json">
  <link rel="apple-touch-icon" href="/icons/apple-touch-icon.png">
  <link rel="shortcut icon" href="icons/icon.ico" type="image/x-icon">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#6C63FF" />
  <meta name="robots" content="index, follow">
  <meta property="og:image" content="/og.jpg"/>
  <meta name="description"
    content="Discover and stream your favorite movies and TV shows with Phoenix - a modern, open source content search and watch website. Enjoy unlimited access to a vast library of content for free.">
  <title>Phoenix</title>
  <link rel="stylesheet" href="style.min.css">
  <link rel="stylesheet" href="center-atom.min.css">
  <link rel="stylesheet" href="phoenix-redesign.css">
  <style>
    body {
      background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
      color: #ffffff;
      font-family: 'Inter', 'Segoe UI', 'Helvetica Neue', Helvetica, Arial, sans-serif;
      margin: 0;
      min-height: 100vh;
      line-height: 1.5;
    }
    .phoenix-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 4%;
      height: 72px;
      background: rgba(15, 15, 35, 0.95);
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      backdrop-filter: blur(20px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    .phoenix-logo {
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 1.8rem;
      font-weight: 900;
      letter-spacing: -0.5px;
      color: #E50914;
    }
    .phoenix-logo img {
      height: 32px;
      width: 32px;
      border-radius: 4px;
    }
    .phoenix-nav {
      display: flex;
      align-items: center;
      gap: 2rem;
    }
    .nav-item {
      color: #ffffff;
      text-decoration: none;
      font-size: 15px;
      font-weight: 500;
      padding: 8px 16px;
      border-radius: 8px;
      transition: all 0.2s ease;
      cursor: pointer;
    }
    .nav-item:hover, .nav-item.active {
      background: rgba(124, 58, 237, 0.2);
      color: #a78bfa;
    }
    .phoenix-main {
      max-width: 1400px;
      margin: 0 auto;
      padding: 96px 4% 40px 4%;
    }
    .nav-content {
      display: none;
    }
    .nav-content.active {
      display: block;
    }
    .phoenix-hero {
      text-align: center;
      margin-bottom: 48px;
      padding: 60px 0 40px 0;
    }
    .phoenix-hero h1 {
      font-size: 3.2rem;
      font-weight: 700;
      margin: 0 0 16px 0;
      color: #ffffff;
    }
    .phoenix-gradient {
      color: #E50914;
    }
    .phoenix-tagline {
      font-size: 1.4rem;
      color: #ffffff;
      margin: 0 0 32px 0;
      font-weight: 400;
      opacity: 0.8;
    }
    .phoenix-search-container {
      display: flex;
      justify-content: center;
      gap: 0;
      max-width: 700px;
      margin: 0 auto;
      position: relative;
    }
    #search-input {
      width: 100%;
      padding: 18px 24px;
      border: 2px solid rgba(255, 255, 255, 0.1);
      border-right: none;
      border-radius: 12px 0 0 12px;
      font-size: 16px;
      background: rgba(255, 255, 255, 0.05);
      color: #ffffff;
      outline: none;
      transition: all 0.3s ease;
    }
    #search-input:focus {
      border-color: #a78bfa;
      background: rgba(255, 255, 255, 0.08);
      box-shadow: 0 0 0 3px rgba(167, 139, 250, 0.1);
    }
    #search-input::placeholder {
      color: rgba(255, 255, 255, 0.5);
    }
    #search-button {
      padding: 18px 32px;
      border: 2px solid #7c3aed;
      border-radius: 0 12px 12px 0;
      background: linear-gradient(135deg, #7c3aed 0%, #a78bfa 100%);
      color: #ffffff;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      white-space: nowrap;
      transition: all 0.3s ease;
    }
    #search-button:hover {
      background: linear-gradient(135deg, #6d28d9 0%, #8b5cf6 100%);
      transform: translateY(-1px);
      box-shadow: 0 8px 25px rgba(124, 58, 237, 0.3);
    }
    .phoenix-video-section {
      margin: 48px 0 32px 0;
      background: rgba(255, 255, 255, 0.03);
      border-radius: 16px;
      padding: 32px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
    }
    .video {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 16px;
    }
    .phoenix-info {
      color: #cccccc;
      font-size: 14px;
      margin-top: 8px;
      text-align: center;
      font-weight: 400;
    }
    .phoenix-results {
      margin: 32px 0;
      min-height: 120px;
      background: rgba(255, 255, 255, 0.03);
      border-radius: 16px;
      padding: 24px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
    }
    .phoenix-info-section {
      margin: 48px 0 24px 0;
      background: rgba(255, 255, 255, 0.03);
      border-radius: 16px;
      padding: 48px 32px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      text-align: center;
    }
    .history-section {
      margin: 48px 0 24px 0;
      background: rgba(255, 255, 255, 0.03);
      border-radius: 16px;
      padding: 32px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
    }
    .history-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 24px;
    }
    .history-header h2 {
      color: #ffffff;
      margin: 0;
      font-size: 1.8rem;
      font-weight: 600;
    }
    .clear-history {
      background: rgba(239, 68, 68, 0.2);
      color: #f87171;
      border: 1px solid rgba(239, 68, 68, 0.3);
      padding: 8px 16px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      transition: all 0.2s ease;
    }
    .clear-history:hover {
      background: rgba(239, 68, 68, 0.3);
    }
    .history-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 16px;
    }
    .history-item {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 16px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      cursor: pointer;
      transition: all 0.2s ease;
    }
    .history-item:hover {
      background: rgba(255, 255, 255, 0.08);
      transform: translateY(-2px);
    }
    .history-item h4 {
      margin: 0 0 8px 0;
      color: #ffffff;
      font-size: 16px;
      font-weight: 600;
    }
    .history-item p {
      margin: 0;
      color: rgba(255, 255, 255, 0.6);
      font-size: 14px;
    }
    .empty-history {
      text-align: center;
      color: rgba(255, 255, 255, 0.5);
      font-size: 16px;
      padding: 40px 20px;
    }
    .phoenix-info-section h2 {
      color: #ffffff;
      margin: 0 0 16px 0;
      font-size: 2.4rem;
      font-weight: 700;
    }
    .phoenix-info-section > p {
      font-size: 1.2rem;
      color: #cccccc;
      margin-bottom: 40px;
      font-weight: 400;
    }
    .phoenix-features {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 24px;
      margin-top: 32px;
    }
    .feature-card {
      background: rgba(255, 255, 255, 0.05);
      padding: 32px 24px;
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      text-align: center;
      transition: all 0.3s ease;
    }
    .feature-card:hover {
      background: rgba(255, 255, 255, 0.08);
      transform: translateY(-4px);
    }
    .feature-card h3 {
      color: #a78bfa;
      margin: 0 0 12px 0;
      font-size: 1.4rem;
      font-weight: 600;
    }
    .feature-card p {
      color: #cccccc;
      margin: 0;
      font-size: 1rem;
      font-weight: 400;
    }
    .phoenix-footer {
      text-align: center;
      padding: 48px 0 32px 0;
      color: #999999;
      font-size: 14px;
      background: none;
      border-top: 1px solid #333333;
      margin-top: 48px;
    }
    @media (max-width: 768px) {
      .phoenix-main {
        padding: 96px 4% 40px 4%;
      }
      .phoenix-header {
        padding: 0 4%;
        height: 64px;
      }
      .phoenix-logo {
        font-size: 1.5rem;
      }
      .phoenix-nav {
        gap: 1rem;
      }
      .nav-item {
        font-size: 14px;
        padding: 6px 12px;
      }
      .phoenix-hero h1 {
        font-size: 2.4rem;
      }
      .phoenix-tagline {
        font-size: 1.2rem;
      }
      .phoenix-search-container {
        flex-direction: column;
        gap: 0;
      }
      #search-input {
        border-radius: 12px 12px 0 0;
        border-right: 2px solid rgba(255, 255, 255, 0.1);
      }
      #search-button {
        border-radius: 0 0 12px 12px;
      }
      .phoenix-hero, .phoenix-info-section, .phoenix-video-section, .phoenix-results, .history-section {
        padding: 24px 16px;
      }
      .phoenix-features, .history-grid {
        grid-template-columns: 1fr;
        gap: 16px;
      }
      .phoenix-info-section h2 {
        font-size: 2rem;
      }
      .phoenix-info-section {
        padding: 32px 16px;
      }
      .history-header {
        flex-direction: column;
        gap: 16px;
        align-items: flex-start;
      }
    }
  </style>
  <!-- Serviceworker code for PWA  -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', function() {
        navigator.serviceWorker.register('/sw.js').then(function(registration) {
          console.log('Service worker registered: ', registration.scope);
        }).catch(function(error) {
          console.log('Service worker registration failed: ', error);
        });
      });
    }
  </script>
</head>

<body>
  <header class="phoenix-header">
    <div class="phoenix-logo">
      <img src="cinema-movie-logo-with-gradient-background-template_502990-937.avif" alt="Phoenix Logo" height="56">
      <span>Phoenix</span>
    </div>
    <nav class="phoenix-nav">
      <div class="nav-item active" onclick="showTab('home')">Home</div>
      <div class="nav-item" onclick="showTab('history')">History</div>
    </nav>
  </header>
  <main class="phoenix-main">
    <div id="home-content" class="nav-content active">
      <section class="phoenix-hero">
        <h1>Welcome to <span class="phoenix-gradient">Phoenix</span></h1>
        <h2 class="phoenix-tagline">Stream. Search. Rise Above.</h2>
        <form class="phoenix-search-container" onsubmit="event.preventDefault(); document.getElementById('search-button').click();">
          <input type="search" id="search-input" placeholder="Search any Movie, Webseries, or Anime" autocomplete="off">
          <button id="search-button" type="button">Search</button>
        </form>
      </section>
      <section class="phoenix-video-section">
        <div id="video" class="video">
          <iframe id="iframe" scrolling="no" src="" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen style="width:100%;min-height:340px;border-radius:16px;"></iframe>
          <p class="phoenix-info">If you experience errors or buffering, click the movie poster below or switch the player in the top right corner.</p>
          <div id="webSeriesData"></div>
        </div>
      </section>
      <section id="results" class="phoenix-results"></section>
      <section class="phoenix-info-section">
        <h2>About Phoenix</h2>
        <p>Your ultimate destination for movies and TV shows. Fast, free, and built for entertainment lovers.</p>
        <div class="phoenix-features">
          <div class="feature-card">
            <h3>🎬 Vast Library</h3>
            <p>Access thousands of movies and shows</p>
          </div>
          <div class="feature-card">
            <h3>⚡ Lightning Fast</h3>
            <p>Instant search and smooth streaming</p>
          </div>
          <div class="feature-card">
            <h3>🆓 Completely Free</h3>
            <p>No subscriptions, no hidden fees</p>
          </div>
        </div>
      </section>
    </div>

    <div id="history-content" class="nav-content">
      <section class="history-section">
        <div class="history-header">
          <h2>Watch History</h2>
          <button class="clear-history" onclick="clearHistory()">Clear All</button>
        </div>
        <div id="history-grid" class="history-grid">
          <div class="empty-history">
            <p>No watch history yet. Start watching something to see it here!</p>
          </div>
        </div>
      </section>
    </div>
  </main>
  <footer class="phoenix-footer">
    <span>&copy; 2025 Phoenix. All rights reserved.</span>
  </footer>
  <script src="https://cdn.jsdelivr.net/npm/pace-js@latest/pace.min.js"></script>
  <script src="script.min.js"></script>
  <script>
    // Navigation functionality
    function showTab(tabName) {
      // Hide all content
      document.querySelectorAll('.nav-content').forEach(content => {
        content.classList.remove('active');
      });

      // Remove active class from all nav items
      document.querySelectorAll('.nav-item').forEach(item => {
        item.classList.remove('active');
      });

      // Show selected content
      document.getElementById(tabName + '-content').classList.add('active');

      // Add active class to clicked nav item
      event.target.classList.add('active');

      // Load history if history tab is clicked
      if (tabName === 'history') {
        loadHistory();
      }
    }

    // History functionality
    function saveToHistory(title, imdb, type, season, episode) {
      let history = JSON.parse(localStorage.getItem('phoenixHistory') || '[]');

      const historyItem = {
        title: title,
        imdb: imdb,
        type: type,
        season: season,
        episode: episode,
        timestamp: new Date().toISOString(),
        watchedAt: new Date().toLocaleDateString()
      };

      // Remove duplicate if exists
      history = history.filter(item => item.imdb !== imdb || (item.season !== season || item.episode !== episode));

      // Add to beginning of array
      history.unshift(historyItem);

      // Keep only last 50 items
      history = history.slice(0, 50);

      localStorage.setItem('phoenixHistory', JSON.stringify(history));
    }

    function loadHistory() {
      const history = JSON.parse(localStorage.getItem('phoenixHistory') || '[]');
      const historyGrid = document.getElementById('history-grid');

      if (history.length === 0) {
        historyGrid.innerHTML = '<div class="empty-history"><p>No watch history yet. Start watching something to see it here!</p></div>';
        return;
      }

      historyGrid.innerHTML = '';

      history.forEach(item => {
        const historyItem = document.createElement('div');
        historyItem.className = 'history-item';
        historyItem.onclick = () => playFromHistory(item);

        let displayTitle = item.title;
        if (item.season && item.episode) {
          displayTitle += ` S${item.season}E${item.episode}`;
        }

        historyItem.innerHTML = `
          <h4>${displayTitle}</h4>
          <p>Watched on ${item.watchedAt}</p>
        `;

        historyGrid.appendChild(historyItem);
      });
    }

    function playFromHistory(item) {
      // Switch to home tab
      showTab('home');

      // Create URL parameters
      let url = `imdb=${item.imdb}`;
      if (item.type) url += `&type=${item.type}`;
      if (item.season) url += `&season=${item.season}`;
      if (item.episode) url += `&episode=${item.episode}`;
      url += `&title=${item.title.replace(/ /g, '_')}`;

      // Update browser URL
      window.history.replaceState({}, '', `?${url}`);

      // Trigger the existing functionality
      fillSearchInput();
    }

    function clearHistory() {
      if (confirm('Are you sure you want to clear all watch history?')) {
        localStorage.removeItem('phoenixHistory');
        loadHistory();
      }
    }

    // Prevent any auto-scroll to top on SPA navigation or search
    window.scrollTo = function(){};
    // If any code tries to scroll to top, this disables it globally
    // If you want to allow smooth scroll to anchors, remove this override
  </script>
</body>
</html>
